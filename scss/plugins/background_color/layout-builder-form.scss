@import "../../variables";
@import "../../mixins";

#drupal-off-canvas,
#layout-builder-modal {
  .fieldgroup.field-background-color {

    // fieldset-wrapper to solve Bootstrap 3 drupal theme issue.
    .form-radios, .fieldset-wrapper {

      // Solve Barrio bootstrap 4 issue.
      > div {
        display: flex;
      }

      .form-item-layout-settings-ui-tab-content-appearance-container-wrapper-bg-color-class {
        padding: 0;
      }

      input {
        @include sr-only();

        &:checked + label.option {
          &:before {
            @include smooth-all-transition;
            width: calc(100% - 2px);
            height: calc(100% - 2px);
            top: 0;
            left: 0;
            margin: 1px;
            content: '';
            position: absolute;
            border-radius: 40px;
            background: linear-gradient(to top left, rgba($panel_bg_color, 0) 0, rgba($panel_bg_color, .1) 50%, rgba($panel_text_color, .1) 50%, rgba($panel_text_color, 0) 100%);
          }

          &:after {
            @include smooth-all-transition;
            width: 20px;
            height: 20px;
            top: 50%;
            left: 50%;
            margin: -10px 0 0 -10px;
            content: '';
            position: absolute;
            background: url("data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjZmZmZmZmIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtOTUyLjM2MjE4KSI+PHBhdGggc3R5bGU9InRleHQtaW5kZW50OjA7dGV4dC10cmFuc2Zvcm06bm9uZTtkaXJlY3Rpb246bHRyO2Jsb2NrLXByb2dyZXNzaW9uOnRiO2Jhc2VsaW5lLXNoaWZ0OmJhc2VsaW5lO2NvbG9yOiMwMDAwMDA7ZW5hYmxlLWJhY2tncm91bmQ6YWNjdW11bGF0ZTsiIGQ9Im0gODMuOTg0Mzc1LDk3Ni4yMzcxOCAtMi4xMjUsMi4xMjUgYyAtMS4xNzY3OCwxLjE3NjggLTExLjI4MTI1LDExLjUzMTMgLTIxLjUzMTI1LDIyLjAzMTMyIC05LjM1Nzc3LDkuNTg2IC0xNy4zODcxNCwxNy44MTc5IC0xOS41OTM3NSwyMC4wNjI1IGwgLTIyLjg3NSwtMTguMzEyNSAtMi4zNDM3NSwtMS44NzUgLTMuNzUsNC42ODc1IDIuMzQzNzUsMS44NzUgMjUsMTkuOTk5OSAyLjA5Mzc1LDEuNjU2MyAxLjkwNjI1LC0xLjkwNjMgYyAxLjE3Njc4LC0xLjE3NjcgMTEuMjgxMjUsLTExLjQ5OTkgMjEuNTMxMjUsLTIxLjk5OTkgMTAuMjUsLTEwLjUwMDAyIDIwLjY0NTUzLC0yMS4xNzY4MiAyMS40Njg3NSwtMjIuMDAwMDIgbCAyLjEyNSwtMi4wOTM4IC00LjI1LC00LjI1IHoiIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMSIgbWFya2VyPSJub25lIiB2aXNpYmlsaXR5PSJ2aXNpYmxlIiBkaXNwbGF5PSJpbmxpbmUiIG92ZXJmbG93PSJ2aXNpYmxlIj48L3BhdGg+PC9nPjwvc3ZnPg==") center center no-repeat;
            background-size: contain;
          }
        }

        &[value="_none"] {
          label {
            background: $white;
          }

          &:checked + label.option {
            &:before {
              display: none;
            }

            &:after {
              background: url("data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjZjM1NjU2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI0IDI0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZGlzcGxheTpub25lO30KPC9zdHlsZT48Zz48Zz48Zz48cGF0aCBkPSJNMiwyMi41Yy0wLjEyOCwwLTAuMjU2LTAuMDQ5LTAuMzU0LTAuMTQ2Yy0wLjE5NS0wLjE5NS0wLjE5NS0wLjUxMiwwLTAuNzA3bDIwLTIwYzAuMTk1LTAuMTk1LDAuNTEyLTAuMTk1LDAuNzA3LDAgICAgIHMwLjE5NSwwLjUxMiwwLDAuNzA3bC0yMCwyMEMyLjI1NiwyMi40NTEsMi4xMjgsMjIuNSwyLDIyLjV6Ij48L3BhdGg+PC9nPjxnPjxwYXRoIGQ9Ik0yMiwyMi41Yy0wLjEyOCwwLTAuMjU2LTAuMDQ5LTAuMzU0LTAuMTQ2bC0yMC0yMGMtMC4xOTUtMC4xOTUtMC4xOTUtMC41MTIsMC0wLjcwN3MwLjUxMi0wLjE5NSwwLjcwNywwbDIwLDIwICAgICBjMC4xOTUsMC4xOTUsMC4xOTUsMC41MTIsMCwwLjcwN0MyMi4yNTYsMjIuNDUxLDIyLjEyOCwyMi41LDIyLDIyLjV6Ij48L3BhdGg+PC9nPjwvZz48L2c+PC9zdmc+") center center no-repeat;
              background-size: contain;
            }
          }
        }
      }

      label {
        @include smooth-all-transition;
        cursor: pointer !important;
        border: 1px solid $panel_text_color;
        border-radius: 40px;
        font-size: 0.00001px;
        position: relative;
        display: inline-block;
        width: 40px;
        height: 40px;
        float: left;
        margin: 0 5px 5px 0;
        padding: 0;
        white-space: nowrap;

        &:hover {
          opacity: 0.8;
        }

        &:after {
          display: table;
          position: absolute;
          top: 3px;
          left: 0;
          right: 0;
          bottom: 0;
          z-index: 1;
          font-size: 20px;
          text-align: center;
          vertical-align: middle;
          width: 100%;
          height: 100%;
        }
      }
    }
  }
}
